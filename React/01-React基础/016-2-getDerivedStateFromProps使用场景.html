<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
<div id="root"></div>
<script src="js/17.0.1/react.development.js"></script>
<script src="js/17.0.1/react-dom.development.js"></script>
<script src="js/17.0.1/babel.min.js"></script>
<script src="js/17.0.1/prop-types.js"></script>
<script type="text/babel">

  class Count extends React.Component {
    state = {
      count: 0
    }
    constructor(props) {
      super(props);
      console.log('constructor')
    }
    // 静态方法：状态对象
    // state值任何时候都取决于props时才用到
    static getDerivedStateFromProps(props, state) {
      console.log('getDerivedStateFromProps', props, state)
      return {
        count: props.num
      }
    }
    componentDidMount() {
      console.log('componentDidMount')
    }
    handleAdd = () => {
        this.setState({count: ++this.state.count})
    }
    shouldComponentUpdate(props, state) {
      console.log('shouldComponentUpdate :>> ', props, state);
      return true
    }
    componentDidUpdate(props, state) {
      console.log('componentDidUpdate :>> ', props, state);
    }
    Updata = () => {
      this.forceUpdate()
    }
    render() {
      console.log('Count>>>render')
      return (
          <div>
            <h2>Hello world {this.state.count}</h2>
            <button onClick={this.handleAdd}>Button ADD</button>
            <button onClick={this.Updata}>Force Update</button>
          </div>
      )
    }
  }

  ReactDOM.render(<Count num={30}/>, document.getElementById('root'))
</script>
</body>
</html>
