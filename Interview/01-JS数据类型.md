# 概念、检测方法、转换方法
# 数据类型概念：

 ## 基础数据类型：
- undefined
- Null
- Boolean
- String
- Number
- Symbol
- BigInt 
## 引用数据类型：
- Object: Array-数组对象
- RegExp-正则对象
- Date-日期对象
- Math-数学函数
- Function-函数对象
## 存储方式：
- 基础数据存储在**栈内存**，被引用或拷贝时，会创建一个完全相等的变量
- 引用数据存储在**堆内存中**，存储的是地址，多个引用指向同一个地址，这里会涉及一个”**共享**“的概念

# 数据类型检测

## typeof
```js
  console.log(typeof 1) // 'number'
  console.log(typeof '1') // 'string'
  console.log(typeof undefined) // 'undefined'
  console.log(typeof true) // 'boolean'
  console.log(typeof Symbol()) // 'symbol
  console.log(typeof null) // 'object
  console.log(typeof []) // 'object
  console.log(typeof {}) // 'object
  console.log(typeof console) // 'object
  console.log(typeof /\d/) // 'object
  console.log(typeof new RegExp(/\d/)) // 'object
  console.log(typeof console.log) // 'function'
```

- 如果需要判断是否为 null, 直接通过 `variable === null` 来判断
- 引用数据类型 `Object`, 用 `typeof` 来判断的话，除了 **function** 会判断为 'function'， 其余都是 'object'

## instanceof
- `instanceof`可以准确的判断复杂引用数据类型，但是不能正确判断基础数据类型
    ```js
    function myInstanceof(left, right) {
        // typeof 判断基础数据类型，如果是， 直接返回 false
        if (typeof left !== 'object' || left === null) return false
        // 获取传入值的原型对象
        let proto = Object.getPrototypeOf(left)
        while (true) { // 循环往下执行，直到找到相同的原型对象
            if (proto === null) return false
            if (proto === right.prototype) return true
            proto = Object.getPrototypeOf(proto)
        }
    }
    ```

## Object.prototype.toString
- **toString** 是 `Object`的原型方法，调用该方法，可以统一返回为 **“[object Xxx]”** 的字符串，其中 Xxx 就是对象的类型
- 对于其他对象， 则需要通过 `call` 来调用
```js
function Person(){}
console.log(Object.prototype.toString({})) // "[object Object]"
console.log(Object.prototype.toString.call(Person)) // "[object Function]"
console.log(Object.prototype.toString.call(1)) // "[object Number]"
console.log(Object.prototype.toString.call("1")) // "[object String]"
console.log(Object.prototype.toString.call(true)) // "[object Boolean]"
console.log(Object.prototype.toString.call(function (){})) // "[object Function]"
console.log(Object.prototype.toString.call(()=>{})) // "[object Function]"
console.log(Object.prototype.toString.call(null)) // "[object Null]"
console.log(Object.prototype.toString.call(undefined)) // "[object Undefined]"
console.log(Object.prototype.toString.call(/123/g)) // "[object RegExp]"
console.log(Object.prototype.toString.call(new RegExp(/123/, 'g'))) // "[object RegExp]"
console.log(Object.prototype.toString.call(new Date())) // "[object Date]"
console.log(Object.prototype.toString.call([])) // "[object Array]"
console.log(Object.prototype.toString.call(document)) // "[object HTMLDocument]"
console.log(Object.prototype.toString.call(window)) // "[object Window]"
```
